{"ast":null,"code":"var _jsxFileName = \"/Users/tanishakumari/StudySphere/app/(tabs)/library.tsx\";\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport RefreshControl from \"react-native-web/dist/exports/RefreshControl\";\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport { useRouter } from 'expo-router';\nimport { BookMarked } from 'lucide-react-native';\nimport { colors } from \"../../constants/colors\";\nimport { NoteCard } from \"../../components/NoteCard\";\nimport { EmptyState } from \"../../components/EmptyState\";\nimport { useAuthStore } from \"../../store/auth-store\";\nimport { useNotesStore } from \"../../store/notes-store\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function LibraryScreen() {\n  const router = useRouter();\n  const {\n    isAuthenticated\n  } = useAuthStore();\n  const {\n    bookmarkedNotes,\n    fetchBookmarkedNotes,\n    isLoading\n  } = useNotesStore();\n  const [refreshing, setRefreshing] = useState(false);\n  useEffect(() => {\n    if (isAuthenticated) {\n      fetchBookmarkedNotes();\n    }\n  }, [isAuthenticated]);\n  const onRefresh = async () => {\n    setRefreshing(true);\n    await fetchBookmarkedNotes();\n    setRefreshing(false);\n  };\n  if (!isAuthenticated) {\n    return _jsxDEV(SafeAreaView, {\n      style: styles.container,\n      edges: ['bottom'],\n      children: _jsxDEV(View, {\n        style: styles.authPromptContainer,\n        children: _jsxDEV(EmptyState, {\n          title: \"Your Library\",\n          description: \"Log in to access your saved study materials\",\n          icon: _jsxDEV(View, {\n            style: styles.iconWrapper,\n            children: _jsxDEV(BookMarked, {\n              size: 40,\n              color: colors.textTertiary\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 40,\n              columnNumber: 52\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 19\n          }, this),\n          actionLabel: \"Log In\",\n          onAction: () => router.push('/(auth)/login'),\n          style: styles.emptyState\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this);\n  }\n  return _jsxDEV(SafeAreaView, {\n    style: styles.container,\n    edges: ['bottom'],\n    children: [_jsxDEV(View, {\n      style: styles.header,\n      children: [_jsxDEV(Text, {\n        style: styles.title,\n        children: \"My Library\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), _jsxDEV(Text, {\n        style: styles.subtitle,\n        children: \"Your saved study materials\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), isLoading && bookmarkedNotes.length === 0 ? _jsxDEV(View, {\n      style: styles.loadingContainer,\n      children: _jsxDEV(Text, {\n        style: styles.loadingText,\n        children: \"Loading your library...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this) : bookmarkedNotes.length === 0 ? _jsxDEV(EmptyState, {\n      title: \"Your library is empty\",\n      description: \"Bookmark notes to access them quickly later\",\n      icon: _jsxDEV(View, {\n        style: styles.iconWrapper,\n        children: _jsxDEV(BookMarked, {\n          size: 40,\n          color: colors.textTertiary\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 50\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this),\n      actionLabel: \"Explore Notes\",\n      onAction: () => router.push('/search'),\n      style: styles.emptyState\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this) : _jsxDEV(FlatList, {\n      data: bookmarkedNotes,\n      renderItem: ({\n        item\n      }) => _jsxDEV(NoteCard, {\n        note: item\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 37\n      }, this),\n      keyExtractor: item => item.id,\n      contentContainerStyle: styles.notesContainer,\n      showsVerticalScrollIndicator: false,\n      refreshControl: _jsxDEV(RefreshControl, {\n        refreshing: refreshing,\n        onRefresh: onRefresh\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: colors.background\n  },\n  header: {\n    paddingHorizontal: 20,\n    paddingTop: 20,\n    paddingBottom: 16\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: '700',\n    color: colors.text,\n    marginBottom: 4\n  },\n  subtitle: {\n    fontSize: 16,\n    color: colors.textSecondary\n  },\n  notesContainer: {\n    padding: 20\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  loadingText: {\n    color: colors.textSecondary\n  },\n  emptyState: {\n    flex: 1,\n    justifyContent: 'center'\n  },\n  authPromptContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  iconWrapper: {}\n});","map":{"version":3,"names":["React","useEffect","useState","View","Text","StyleSheet","FlatList","RefreshControl","SafeAreaView","useRouter","BookMarked","colors","NoteCard","EmptyState","useAuthStore","useNotesStore","jsxDEV","_jsxDEV","LibraryScreen","router","isAuthenticated","bookmarkedNotes","fetchBookmarkedNotes","isLoading","refreshing","setRefreshing","onRefresh","style","styles","container","edges","children","authPromptContainer","title","description","icon","iconWrapper","size","color","textTertiary","fileName","_jsxFileName","lineNumber","columnNumber","actionLabel","onAction","push","emptyState","header","subtitle","length","loadingContainer","loadingText","data","renderItem","item","note","keyExtractor","id","contentContainerStyle","notesContainer","showsVerticalScrollIndicator","refreshControl","create","flex","backgroundColor","background","paddingHorizontal","paddingTop","paddingBottom","fontSize","fontWeight","text","marginBottom","textSecondary","padding","justifyContent","alignItems"],"sources":["/Users/tanishakumari/StudySphere/app/(tabs)/library.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { View, Text, StyleSheet, FlatList, RefreshControl } from 'react-native';\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport { useRouter } from 'expo-router';\nimport { BookMarked } from 'lucide-react-native';\nimport { colors } from '@/constants/colors';\nimport { NoteCard } from '@/components/NoteCard';\nimport { EmptyState } from '@/components/EmptyState';\nimport { useAuthStore } from '@/store/auth-store';\nimport { useNotesStore } from '@/store/notes-store';\n\nexport default function LibraryScreen() {\n  const router = useRouter();\n  const { isAuthenticated } = useAuthStore();\n  const { bookmarkedNotes, fetchBookmarkedNotes, isLoading } = useNotesStore();\n  \n  const [refreshing, setRefreshing] = useState(false);\n  \n  useEffect(() => {\n    // Only fetch data if authenticated\n    if (isAuthenticated) {\n      fetchBookmarkedNotes();\n    }\n  }, [isAuthenticated]);\n  \n  const onRefresh = async () => {\n    setRefreshing(true);\n    await fetchBookmarkedNotes();\n    setRefreshing(false);\n  };\n  \n  // If not authenticated, show login prompt instead of redirecting\n  if (!isAuthenticated) {\n    return (\n      <SafeAreaView style={styles.container} edges={['bottom']}>\n        <View style={styles.authPromptContainer}>\n          <EmptyState\n            title=\"Your Library\"\n            description=\"Log in to access your saved study materials\"\n            icon={<View style={styles.iconWrapper}><BookMarked size={40} color={colors.textTertiary} /></View>}\n            actionLabel=\"Log In\"\n            onAction={() => router.push('/(auth)/login')}\n            style={styles.emptyState}\n          />\n        </View>\n      </SafeAreaView>\n    );\n  }\n  \n  return (\n    <SafeAreaView style={styles.container} edges={['bottom']}>\n      <View style={styles.header}>\n        <Text style={styles.title}>My Library</Text>\n        <Text style={styles.subtitle}>Your saved study materials</Text>\n      </View>\n      \n      {isLoading && bookmarkedNotes.length === 0 ? (\n        <View style={styles.loadingContainer}>\n          <Text style={styles.loadingText}>Loading your library...</Text>\n        </View>\n      ) : bookmarkedNotes.length === 0 ? (\n        <EmptyState\n          title=\"Your library is empty\"\n          description=\"Bookmark notes to access them quickly later\"\n          icon={<View style={styles.iconWrapper}><BookMarked size={40} color={colors.textTertiary} /></View>}\n          actionLabel=\"Explore Notes\"\n          onAction={() => router.push('/search')}\n          style={styles.emptyState}\n        />\n      ) : (\n        <FlatList\n          data={bookmarkedNotes}\n          renderItem={({ item }) => <NoteCard note={item} />}\n          keyExtractor={(item) => item.id}\n          contentContainerStyle={styles.notesContainer}\n          showsVerticalScrollIndicator={false}\n          refreshControl={\n            <RefreshControl refreshing={refreshing} onRefresh={onRefresh} />\n          }\n        />\n      )}\n    </SafeAreaView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: colors.background,\n  },\n  header: {\n    paddingHorizontal: 20,\n    paddingTop: 20,\n    paddingBottom: 16,\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: '700',\n    color: colors.text,\n    marginBottom: 4,\n  },\n  subtitle: {\n    fontSize: 16,\n    color: colors.textSecondary,\n  },\n  notesContainer: {\n    padding: 20,\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  loadingText: {\n    color: colors.textSecondary,\n  },\n  emptyState: {\n    flex: 1,\n    justifyContent: 'center',\n  },\n  authPromptContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  iconWrapper: {\n    // Wrapper to ensure icons are properly contained\n  }\n});"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}